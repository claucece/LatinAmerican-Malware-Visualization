//constructor function to draw a noise shape
function Noise() {
	//name of the visualisation
	this.name = "noise";

    noiseStep = 0.10;
    prog = 0;

	// draw the noise to the screen
	this.draw = function() {
        push();
        translate(width/2, height/2);
        
        beginShape();
        noFill();
        stroke(255,252,25);
        strokeWeight(3);

        for (var i = 0; i < 100; i++) {
            var x = map(noise(i * noiseStep + prog), 0, 1, -1000, 1000);
            var y = map(noise(i * noiseStep + prog + 1000), 0, 1, -1000, 1000);

            vertex(x, y);
        }

        endShape();

        fourier.analyze();
        energy = fourier.getEnergy("bass");

        if(energy > 100){
            prog += 0.5;
        }

        pop();
	};
}