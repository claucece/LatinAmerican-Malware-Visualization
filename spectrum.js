// constructor function to draw the spectrum visualization
function Spectrum() {
  this.name = "spectrum";
  this.isMalware = false; // this variable is externally modified.

  // draws the visualization.
  this.draw = function() {
    push();

    if (this.isMalware) { // only draws this visualization if it is on 'malware-state'.
      var spectrum = fourier.analyze();
      noStroke();

      for (var i = 0; i < spectrum.length; i++) {
        // fade the colour of the bin from shades of red.
        var g = map(spectrum[i], 0, 0, 62, 0);
        fill(spectrum[i], g, 0);

        // draw each bin as a rectangle from the middle of the screen on the left.
        var y = map(i, 0, spectrum.length, 0, height / 2);
        var w = map(spectrum[i], 0, 255, 0, width / 2);
        rect(y + 40, 480, w / 10, height / 4);
      }
    }
    pop();
  };
}
